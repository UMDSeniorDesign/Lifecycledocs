<html>
	<head>
	    <style type="text/css">
		    #preview {
		        float: right;
		        width: 50%;
		        height: 100%;
		    }
		    #tableOfContents {
		        float: left;
		        width: 50%;
		        height 100%;
		    }
		    #input {
		        width:50%; 
		        height:50%
		    }
	    </style>
		
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.js" > </script>
	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
	<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

		<script> 
			function loadXML(dname) {
				if (window.XMLHttpRequest) {
					xmlhttp =  new XMLHttpRequest();
				} else { 
					xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
				}
				
				if (xmlhttp!=null) { 
					xmlhttp.open("GET",dname,false);
					xmlhttp.send();
					return xmlhttp.responseXML;
                } else { // If error occurs
					alert("error");
				}
			} ;
		</script>
		
		<script>
		    function getTableOfContents() {
	            xmlDoc = loadXML("/Lifecycledocs/XML/requirements.xml");
	        
	            var y = xmlDoc.documentElement.childNodes;
	            
	            for (i = 0; i < y.length; i++) {
                    if (y[i].nodeType != 3) {
                        $('#tableInput').append("<a href='" + y[i].childNodes[0].nodeValue + "' onclick='editSection(y, i)'>" + y[i].nodeName + "</a> <br>");
                        //$('#textInput').append(y[i].childNodes[0].nodeValue + "\n");
                        
                        for (z = 0; z < y[i].childNodes.length; z++) {
                            if (y[i].childNodes[z].nodeType != 3) {
                                //document.getElementById("textinput").innerHTML = "Nodename: " + y[i].childNodes[z].nodeName;
                                $('#tableInput').append("<a href='" + y[i].childNodes[z].childNodes[0].nodeValue + "' onclick='editSection(y, i)'>" + y[i].childNodes[z].nodeName  + "</a> <br>");
                                //$('#textInput').append(y[i].childNodes[z].childNodes[0].nodeValue + "\n");
                            }
                        }
                    }
	            }
		    }
		</script>
		
		<script>
		    function editSection(y, i) {
		       $('#textInput').append(y[i].childNodes[0].nodeValue + "\n");
		    }
		</script>
	</head>
	
	<body>
		<div id="wrapper">
			<div id="preview">
		    	<button onclick="getTableOfContents()">Load</button>
				<input type="file" id="fileToLoad">
			    <textarea id="textInput" style="width: 50%; height: 100%"></textarea>
			    
			</div>
			
			<div id="tableOfContents">
			    <div id="tableInput" style="width: 50%; height: 100%"></div>
			</div>
		</div>
	</body>
</html>